{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\Blog app\\\\blogging-app\\\\Client\\\\src\\\\components\\\\singlepost\\\\singlepost.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport \"./singlePost.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Singlepost() {\n  _s();\n\n  const location = useLocation();\n  const path = location.pathname.split(\"/\")[2];\n  const [post, setPost] = useState({});\n  const PF = \"http://localhost:5000/images/\";\n  const {\n    user\n  } = useContext(Context);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [updateMode, setUpdateMode] = useState(false);\n  useEffect(() => {\n    const getPost = async () => {\n      const res = await axios.get(\"/posts/\" + path);\n      setPost(res.data);\n      setTitle(res.data.title);\n      setDesc(res.data.desc);\n    };\n\n    getPost();\n  }, [path]);\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`/posts/${post._id}`, {\n        data: {\n          username: user.username\n        }\n      });\n      window.location.replace(\"/\");\n    } catch (err) {}\n  };\n\n  const handleUpdate = async () => {\n    try {\n      await axios.put(`/posts/${post._id}`, {\n        username: user.username,\n        title,\n        desc\n      });\n      setUpdateMode(false);\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sp\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spwrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"post\",\n        src: \"https://www.hostelworld.com/blog/wp-content/uploads/2016/03/iStock_000086129025_Medium.jpg\",\n        className: \"spimage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"sptitle\",\n        children: [\"Welcome to our blogging webpage\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spedit\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"spicon fa-solid fa-pen-to-square\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"spicon fa-solid fa-trash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"spauthor\",\n          children: [\"Author:\", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/post?username=Abhishek\",\n              children: \"Abhishek\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"spdate\",\n          children: \"1 hour ago\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"sppara\",\n        children: \"A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Singlepost, \"xs7JL4oKuIn8mxMMLFGIhzF2qFM=\", false, function () {\n  return [useLocation];\n});\n\n_c = Singlepost;\n\nvar _c;\n\n$RefreshReg$(_c, \"Singlepost\");","map":{"version":3,"names":["axios","useContext","useEffect","useState","useLocation","Link","Context","Singlepost","location","path","pathname","split","post","setPost","PF","user","title","setTitle","desc","setDesc","updateMode","setUpdateMode","getPost","res","get","data","handleDelete","delete","_id","username","window","replace","err","handleUpdate","put"],"sources":["D:/Projects/Blog app/blogging-app/Client/src/components/singlepost/singlepost.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../context/Context\";\r\nimport \"./singlePost.css\";\r\n\r\nexport default function Singlepost() {\r\n\r\n    const location = useLocation();\r\n  const path = location.pathname.split(\"/\")[2];\r\n  const [post, setPost] = useState({});\r\n  const PF = \"http://localhost:5000/images/\";\r\n  const { user } = useContext(Context);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [updateMode, setUpdateMode] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getPost = async () => {\r\n      const res = await axios.get(\"/posts/\" + path);\r\n      setPost(res.data);\r\n      setTitle(res.data.title);\r\n      setDesc(res.data.desc);\r\n    };\r\n    getPost();\r\n  }, [path]);\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axios.delete(`/posts/${post._id}`, {\r\n        data: { username: user.username },\r\n      });\r\n      window.location.replace(\"/\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await axios.put(`/posts/${post._id}`, {\r\n        username: user.username,\r\n        title,\r\n        desc,\r\n      });\r\n      setUpdateMode(false)\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className='sp'>\r\n\r\n        <div className='spwrapper'>\r\n            <img\r\n                alt='post'\r\n                src='https://www.hostelworld.com/blog/wp-content/uploads/2016/03/iStock_000086129025_Medium.jpg'\r\n                className='spimage'\r\n            />\r\n            <h1 className='sptitle'>\r\n                Welcome to our blogging webpage\r\n                <div className='spedit'>\r\n                <i className=\"spicon fa-solid fa-pen-to-square\"></i>\r\n                <i className=\"spicon fa-solid fa-trash\"></i>\r\n                </div>\r\n            </h1>\r\n            <div className='spinfo'>\r\n                <span className='spauthor'>Author: \r\n                <b>\r\n                    <Link to=\"/post?username=Abhishek\">\r\n                        Abhishek\r\n                    </Link>\r\n                </b></span>\r\n                <span className='spdate'>1 hour ago</span>\r\n            </div>\r\n            <p className='sppara'>\r\n            A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.A paragraph is a self-contained unit of discourse in writing dealing with a particular point or idea. A paragraph consists of three or more sentences. Though not required by the syntax of any language, paragraphs are usually an expected part of formal writing, used to organize longer prose.\r\n            </p>\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}